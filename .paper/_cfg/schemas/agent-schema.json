{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://paperkit.dev/schemas/agent-schema.json",
  "title": "PaperKit Agent Definition Schema",
  "description": "JSON Schema for validating PaperKit agent metadata definitions",
  "type": "object",
  "required": [
    "name",
    "displayName",
    "title",
    "icon",
    "identity",
    "module",
    "path"
  ],
  "properties": {
    "name": {
      "type": "string",
      "description": "Machine identifier (kebab-case, used in code/configs)",
      "pattern": "^[a-z][a-z0-9-]*$"
    },
    "displayName": {
      "type": "string",
      "description": "Human persona name (used in UI for personality)"
    },
    "title": {
      "type": "string",
      "description": "Functional title (used in UI for capability description)"
    },
    "icon": {
      "type": "string",
      "description": "Emoji icon representing the agent"
    },
    "version": {
      "type": "string",
      "description": "Semantic version of the agent definition",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "default": "1.0.0"
    },
    "module": {
      "type": "string",
      "description": "Module the agent belongs to (e.g., 'core', 'specialist')",
      "enum": ["core", "specialist"]
    },
    "identity": {
      "type": "object",
      "description": "Agent identity and core characteristics",
      "required": ["role", "description"],
      "properties": {
        "role": {
          "type": "string",
          "description": "Primary role or job title"
        },
        "description": {
          "type": "string",
          "description": "Detailed description of agent's purpose and capabilities"
        },
        "communicationStyle": {
          "type": "string",
          "description": "How the agent communicates with users"
        }
      }
    },
    "capabilities": {
      "type": "array",
      "description": "List of agent capabilities",
      "items": {
        "type": "string"
      }
    },
    "constraints": {
      "type": "array",
      "description": "List of agent constraints and limitations",
      "items": {
        "type": "string"
      }
    },
    "principles": {
      "type": "array",
      "description": "Core principles guiding agent behavior",
      "items": {
        "type": "string"
      }
    },
    "inputSchema": {
      "type": "object",
      "description": "JSON Schema for expected input format",
      "properties": {
        "type": {
          "type": "string"
        },
        "properties": {
          "type": "object"
        },
        "required": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "outputSchema": {
      "type": "object",
      "description": "JSON Schema for expected output format",
      "properties": {
        "type": {
          "type": "string"
        },
        "properties": {
          "type": "object"
        },
        "required": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "examplePrompts": {
      "type": "array",
      "description": "Example prompts that work well with this agent",
      "items": {
        "type": "string"
      }
    },
    "owner": {
      "type": "string",
      "description": "Team or person responsible for maintaining this agent"
    },
    "path": {
      "type": "string",
      "description": "Path to agent definition file",
      "pattern": "^\\.paper/(core|specialist)/agents/[a-z][a-z0-9-]*\\.md$"
    }
  },
  "additionalProperties": false
}
