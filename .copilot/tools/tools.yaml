# .copilot/tools/tools.yaml
# Tool and script registry with consent and execution metadata

version: "1.0.0"
description: "Registry of tools and scripts used by agents"

tools:
  build-latex:
    name: "build-latex.sh"
    description: "Compile LaTeX document to PDF"
    path: "open-agents/tools/build-latex.sh"
    type: "script"
    language: "shell"
    requires-consent: true
    risk-level: "medium"
    consent-scope: "once-per-session"
    working-directory: "repo-root"
    inputs:
      - "LaTeX source directory"
    outputs:
      - "Compiled PDF"
      - "Build log"
    side-effects:
      - "Creates output-final/pdf/"
      - "Modifies latex/ files (intermediate)"
    timeout: "30 seconds"
    rollback-capable: false

  lint-latex:
    name: "lint-latex.sh"
    description: "Check LaTeX syntax and common issues"
    path: "open-agents/tools/lint-latex.sh"
    type: "script"
    language: "shell"
    requires-consent: false
    risk-level: "low"
    working-directory: "repo-root"
    inputs:
      - "LaTeX source directory"
    outputs:
      - "Syntax check report"
    side-effects: []
    timeout: "10 seconds"
    rollback-capable: true

  validate-structure:
    name: "validate-structure.py"
    description: "Validate paper structure and section completeness"
    path: "open-agents/tools/validate-structure.py"
    type: "script"
    language: "python"
    requires-consent: false
    risk-level: "low"
    working-directory: "repo-root"
    inputs:
      - "Memory files path"
      - "Output directories"
    outputs:
      - "Structure validation report"
      - "Completion percentage"
    side-effects: []
    timeout: "5 seconds"
    rollback-capable: true

  format-references:
    name: "format-references.py"
    description: "Format and validate bibliography in Harvard style"
    path: "open-agents/tools/format-references.py"
    type: "script"
    language: "python"
    requires-consent: true
    risk-level: "medium"
    consent-scope: "once-per-session"
    working-directory: "repo-root"
    inputs:
      - "BibTeX file path"
      - "Citation keys"
    outputs:
      - "Formatted references.bib"
      - "Validation report"
    side-effects:
      - "Modifies latex/references/references.bib"
    timeout: "10 seconds"
    rollback-capable: true
    allows-undo: true
