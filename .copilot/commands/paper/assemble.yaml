# .copilot/commands/paper/assemble.yaml
name: "paper.assemble"
display-name: "Assemble & compile"
description: "Integrate sections and compile PDF"
category: "core"
version: "1.0"

entry-points:
  primary: "/paper.assemble"
  alternates:
    - "assemble paper"
    - "build document"
    - "compile"
    - "build"

routing:
  primary-agent: "latex-assembler"
  workflow: "core-writing"
  load-order:
    - "open-agents/INSTRUCTIONS.md"
    - "open-agents/agents/latex_assembler.md"

inputs:
  skip-validation:
    type: "boolean"
    default: false
    description: "Skip pre-build validation"

outputs:
  files:
    - "open-agents/output-final/pdf/main.pdf"
    - "open-agents/output-final/build_report.md"
  latex:
    - "latex/main.tex (updated)"

consent-required: true
tools-used:
  - "lint-latex.sh"
  - "validate-structure.py"
  - "build-latex.sh"

behavioral-rules:
  - "Validate thoroughly before compilation"
  - "Report errors clearly"
  - "Don't fix content errors"
  - "Generate comprehensive build report"

success-criteria:
  - "PDF generated successfully"
  - "All citations resolved"
  - "All cross-references valid"
  - "Build report complete"
